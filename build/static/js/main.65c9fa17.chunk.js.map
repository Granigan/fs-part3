{"version":3,"sources":["component/RemoveButton.js","component/Detail.js","component/Details.js","component/Title.js","component/Filter.js","component/PersonForm.js","component/Header.js","services/persons.js","component/Notice.js","App.js","index.js"],"names":["RemoveButton","_ref","id","name","removePerson","react_default","a","createElement","onClick","Detail","number","component_RemoveButton","Details","persons","map","person","component_Detail","key","Title","Filter","newFilter","handleFilterChange","value","onChange","PersonForm","addPerson","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","type","Header","baseUrl","services_persons","axios","get","then","response","data","newObject","post","delete","concat","put","Notice","message","className","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setNewFilter","_useState9","_useState10","filteredList","setNewFilteredList","_useState11","_useState12","errorMessage","setNewErrorMessage","_useState13","_useState14","successMessage","setNewSuccessMessage","useEffect","personService","initialPersons","component_Title","component_Notice","component_Filter","event","target","filter","toUpperCase","includes","component_Header","component_PersonForm","preventDefault","window","confirm","setTimeout","catch","error","returnedPerson","component_Details","ReactDOM","render","src_App","document","getElementById"],"mappings":"qMAMeA,EAJM,SAAAC,GAAgC,IAA7BC,EAA6BD,EAA7BC,GAAIC,EAAyBF,EAAzBE,KAAMC,EAAmBH,EAAnBG,aAChC,OAAOC,EAAAC,EAAAC,cAAA,UAAQC,QAAS,kBAAMJ,EAAa,CAAEF,KAAIC,WAA1C,WCOMM,EAPA,SAAAR,GAAA,IAAGE,EAAHF,EAAGE,KAAMO,EAATT,EAASS,OAAQR,EAAjBD,EAAiBC,GAAIE,EAArBH,EAAqBG,aAArB,OACbC,EAAAC,EAAAC,cAAA,WACGJ,EADH,IACUO,EACRL,EAAAC,EAAAC,cAACI,EAAD,CAAcT,GAAIA,EAAIC,KAAMA,EAAMC,aAAcA,MCWrCQ,EAdC,SAAAX,GAAA,IAAGY,EAAHZ,EAAGY,QAAST,EAAZH,EAAYG,aAAZ,OACdC,EAAAC,EAAAC,cAAA,WACGM,EAAQC,IAAI,SAAAC,GAAM,OACjBV,EAAAC,EAAAC,cAACS,EAAD,CACEC,IAAKF,EAAOb,GACZA,GAAIa,EAAOb,GACXC,KAAMY,EAAOZ,KACbO,OAAQK,EAAOL,OACfN,aAAcA,QCPPc,EAFD,SAAAjB,GAAA,IAAGE,EAAHF,EAAGE,KAAH,OAAcE,EAAAC,EAAAC,cAAA,UAAKJ,ICMlBgB,EANA,SAAAlB,GAAA,IAAGmB,EAAHnB,EAAGmB,UAAWC,EAAdpB,EAAcoB,mBAAd,OACbhB,EAAAC,EAAAC,cAAA,0BACaF,EAAAC,EAAAC,cAAA,SAAOe,MAAOF,EAAWG,SAAUF,MCkBnCG,EApBI,SAAAvB,GAAA,IACjBwB,EADiBxB,EACjBwB,UACAC,EAFiBzB,EAEjByB,QACAC,EAHiB1B,EAGjB0B,UACAC,EAJiB3B,EAIjB2B,iBACAC,EALiB5B,EAKjB4B,mBALiB,OAOjBxB,EAAAC,EAAAC,cAAA,QAAMuB,SAAUL,EAAWtB,KAAMuB,GAC/BrB,EAAAC,EAAAC,cAAA,oBACQF,EAAAC,EAAAC,cAAA,SAAOe,MAAOI,EAASH,SAAUK,KAEzCvB,EAAAC,EAAAC,cAAA,sBACUF,EAAAC,EAAAC,cAAA,SAAOe,MAAOK,EAAWJ,SAAUM,KAE7CxB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UAAQwB,KAAK,UAAb,kBCbSC,EAFA,SAAA/B,GAAA,IAAGE,EAAHF,EAAGE,KAAH,OAAcE,EAAAC,EAAAC,cAAA,UAAKJ,oBCD5B8B,EAAU,eAsBDC,EApBA,WAEb,OADgBC,IAAMC,IAAIH,GACXI,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAkB5BL,EAfA,SAAAM,GAEb,OADgBL,IAAMM,KAAKR,EAASO,GACrBH,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAa5BL,EAVA,SAAAhC,GAEb,OADgBiC,IAAMO,OAAN,GAAAC,OAAgBV,EAAhB,KAAAU,OAA2BzC,IAC5BmC,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAQ5BL,EALA,SAAEhC,EAAIsC,GAEnB,OADgBL,IAAMS,IAAN,GAAAD,OAAaV,EAAb,KAAAU,OAAwBzC,GAAMsC,GAC/BH,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QCN5BM,SAXA,SAAA5C,GAAuB,IAApB6C,EAAoB7C,EAApB6C,QAASf,EAAW9B,EAAX8B,KACzB,OAAe,OAAZe,EACM,KAGPzC,EAAAC,EAAAC,cAAA,OAAKwC,UAAWhB,GACbe,KCqIQE,EApIH,WAAM,IAAAC,EACcC,mBAAS,IADvBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACTpC,EADSsC,EAAA,GACAG,EADAH,EAAA,GAAAI,EAEcL,mBAAS,IAFvBM,EAAAJ,OAAAC,EAAA,EAAAD,CAAAG,EAAA,GAET7B,EAFS8B,EAAA,GAEAC,EAFAD,EAAA,GAAAE,EAGkBR,mBAAS,IAH3BS,EAAAP,OAAAC,EAAA,EAAAD,CAAAM,EAAA,GAGT/B,EAHSgC,EAAA,GAGEC,EAHFD,EAAA,GAAAE,EAIkBX,mBAAS,IAJ3BY,EAAAV,OAAAC,EAAA,EAAAD,CAAAS,EAAA,GAITzC,EAJS0C,EAAA,GAIEC,EAJFD,EAAA,GAAAE,EAK2Bd,mBAASrC,GALpCoD,EAAAb,OAAAC,EAAA,EAAAD,CAAAY,EAAA,GAKTE,EALSD,EAAA,GAKKE,EALLF,EAAA,GAAAG,EAM2BlB,mBAAS,MANpCmB,EAAAjB,OAAAC,EAAA,EAAAD,CAAAgB,EAAA,GAMTE,EANSD,EAAA,GAMKE,EANLF,EAAA,GAAAG,EAO+BtB,mBAAS,MAPxCuB,EAAArB,OAAAC,EAAA,EAAAD,CAAAoB,EAAA,GAOTE,EAPSD,EAAA,GAOOE,EAPPF,EAAA,GAUhBG,oBAAU,WACRC,IAAuBxC,KAAK,SAAAyC,GAC1BxB,EAAWwB,GACXX,EAAmBW,MAEpB,IAiGH,OACEzE,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACwE,EAAD,CAAO5E,KAAK,oBACZE,EAAAC,EAAAC,cAACyE,EAAD,CAAQlC,QAASwB,EAAcvC,KAAK,UACpC1B,EAAAC,EAAAC,cAACyE,EAAD,CAAQlC,QAAS4B,EAAgB3C,KAAK,YACtC1B,EAAAC,EAAAC,cAAC0E,EAAD,CAAQ7D,UAAWA,EAAWC,mBAjGP,SAAA6D,GACzBnB,EAAamB,EAAMC,OAAO7D,OAC1B6C,EACEtD,EAAQuE,OAAO,SAAArE,GAAM,OACnBA,EAAOZ,KAAKkF,cAAcC,SAASJ,EAAMC,OAAO7D,MAAM+D,qBA8FxDhF,EAAAC,EAAAC,cAACgF,EAAD,CAAQpF,KAAK,qCACbE,EAAAC,EAAAC,cAACiF,EAAD,CACE/D,UA3FY,SAAAyD,GAChBA,EAAMO,iBACN,IAAMtF,EAAOuB,EACPhB,EAASiB,EAEf,GAAId,EAAQC,IAAI,SAAAC,GAAM,OAAIA,EAAOZ,OAAMmF,SAASnF,GAAO,CACrD,GACEuF,OAAOC,QAAP,GAAAhD,OACKxC,EADL,6DAGA,CACA,IAAMD,EAAKW,EAAQuE,OAAO,SAAArE,GAAM,OAAIA,EAAOZ,OAASA,IAAM,GAAGD,GAM7D2E,EACU3E,EANW,CACnBA,GAAIA,EACJC,KAAMA,EACNO,OAAQA,IAIP2B,KAAK,SAAAC,GACJgB,EACEzC,EAAQC,IAAI,SAAAC,GAAM,OAAKA,EAAOb,KAAOA,EAAKa,EAASuB,KAErD6B,EACEtD,EAAQC,IAAI,SAAAC,GAAM,OAAKA,EAAOb,KAAOA,EAAKa,EAASuB,KAErDyB,EAAa,IACbY,EAAoB,sBAAAhC,OAAcxC,EAAd,8BACpByF,WAAW,WACTjB,EAAqB,OAlDd,OAqDVkB,MAAM,SAAAC,GACLvB,EAAkB,yBAAA5B,OAAcxC,EAAd,2BAClByF,WAAW,WACTrB,EAAmB,OAxDZ,OA4Dfd,EAAW,IACXG,EAAa,SAMbiB,EAJqB,CACnB1E,KAAMA,EACNO,OAAQA,IAEyB2B,KAAK,SAAA0D,GACtCzC,EAAWzC,EAAQ8B,OAAOoD,IAC1B5B,EAAmBtD,EAAQ8B,OAAOoD,IAClChC,EAAa,MAEfN,EAAW,IACXG,EAAa,IACbe,EAAoB,qBAAAhC,OAAaxC,EAAb,iCACpByF,WAAW,WACTjB,EAAqB,OA5ER,MAiHbjD,QAASA,EACTC,UAAWA,EACXC,iBA1GmB,SAAAsD,GAAK,OAAIzB,EAAWyB,EAAMC,OAAO7D,QA2GpDO,mBA1GqB,SAAAqD,GAAK,OAAItB,EAAasB,EAAMC,OAAO7D,UA4G1DjB,EAAAC,EAAAC,cAACgF,EAAD,CAAQpF,KAAK,YACbE,EAAAC,EAAAC,cAACyF,EAAD,CAASnF,QAASqD,EAAc9D,aAtCf,SAAAH,GAAkB,IAAfC,EAAeD,EAAfC,GAAIC,EAAWF,EAAXE,KACtBuF,OAAOC,QAAP,+CAAAhD,OAA8DxC,MAChE0E,EACU3E,GACPmC,KAAK,SAAAC,GACJqC,EAAoB,qBAAAhC,OAAaxC,EAAb,gCACpByF,WAAW,WACTjB,EAAqB,OAxFZ,OA2FZkB,MAAM,SAAAC,GACLvB,EAAkB,qBAAA5B,OACJxC,EADI,qCAGlByF,WAAW,WACTrB,EAAmB,OAhGV,OAmGfJ,EAAmBD,EAAakB,OAAO,SAAArE,GAAM,OAAIA,EAAOb,KAAOA,KAC/DoD,EAAWzC,EAAQuE,OAAO,SAAArE,GAAM,OAAIA,EAAOb,KAAOA,WClHxD+F,IAASC,OAAO7F,EAAAC,EAAAC,cAAC4F,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.65c9fa17.chunk.js","sourcesContent":["import React from \"react\";\n\nconst RemoveButton = ({ id, name, removePerson }) => {\n  return <button onClick={() => removePerson({ id, name })}>poista</button>;\n};\n\nexport default RemoveButton;\n","import React from \"react\";\nimport RemoveButton from \"./RemoveButton\";\n\nconst Detail = ({ name, number, id, removePerson }) => (\n  <div>\n    {name} {number}\n    <RemoveButton id={id} name={name} removePerson={removePerson} />\n  </div>\n);\n\nexport default Detail;\n","import React from \"react\";\nimport Detail from \"./Detail\";\n\nconst Details = ({ persons, removePerson }) => (\n  <div>\n    {persons.map(person => (\n      <Detail\n        key={person.id}\n        id={person.id}\n        name={person.name}\n        number={person.number}\n        removePerson={removePerson}\n      />\n    ))}\n  </div>\n);\n\nexport default Details;\n","import React from \"react\";\n\nconst Title = ({ name }) => <h1>{name}</h1>;\n\nexport default Title;","import React from \"react\";\n\nconst Filter = ({ newFilter, handleFilterChange }) => (\n  <p>\n    Hae nimiä: <input value={newFilter} onChange={handleFilterChange} />\n  </p>\n);\n\nexport default Filter;\n","import React from \"react\";\n\nconst PersonForm = ({\n  addPerson,\n  newName,\n  newNumber,\n  handleNameChange,\n  handleNumberChange\n}) => (\n  <form onSubmit={addPerson} name={newName}>\n    <div>\n      nimi: <input value={newName} onChange={handleNameChange} />\n    </div>\n    <div>\n      numero: <input value={newNumber} onChange={handleNumberChange} />\n    </div>\n    <div>\n      <button type=\"submit\">lisää</button>\n    </div>\n  </form>\n);\n\nexport default PersonForm;\n","import React from \"react\";\n\nconst Header = ({ name }) => <h2>{name}</h2>;\n\nexport default Header;\n","import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then(response => response.data);\n};\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then(response => response.data);\n};\n\nconst remove = id => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then(response => response.data);\n};\n\nconst update = ( id, newObject ) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then(response => response.data);\n};\n\nexport default { getAll, create, remove, update };\n","import React from 'react';\nimport \"../index.css\";\n\nconst Notice = ({ message, type }) => {\n  if(message === null) {\n    return null;\n  }\n  return (\n    <div className={type}>\n      {message}\n    </div>\n  )\n}\n\nexport default Notice;","import React, { useState, useEffect } from \"react\";\nimport Details from \"./component/Details\";\nimport Title from \"./component/Title\";\nimport Filter from \"./component/Filter\";\nimport PersonForm from \"./component/PersonForm\";\nimport Header from \"./component/Header\";\nimport personService from \"./services/persons\";\nimport Notice from \"./component/Notice\";\nimport \"./index.css\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [newFilter, setNewFilter] = useState(\"\");\n  const [filteredList, setNewFilteredList] = useState(persons);\n  const [errorMessage, setNewErrorMessage] = useState(null);\n  const [successMessage, setNewSuccessMessage] = useState(null);\n  const noticeTime = 5000;\n\n  useEffect(() => {\n    personService.getAll().then(initialPersons => {\n      setPersons(initialPersons);\n      setNewFilteredList(initialPersons);\n    });\n  }, []);\n\n  const handleNameChange = event => setNewName(event.target.value);\n  const handleNumberChange = event => setNewNumber(event.target.value);\n\n  const handleFilterChange = event => {\n    setNewFilter(event.target.value);\n    setNewFilteredList(\n      persons.filter(person =>\n        person.name.toUpperCase().includes(event.target.value.toUpperCase())\n      )\n    );\n  };\n\n  const addPerson = event => {\n    event.preventDefault();\n    const name = newName;\n    const number = newNumber;\n\n    if (persons.map(person => person.name).includes(name)) {\n      if (\n        window.confirm(\n          `${name} on jo luettelossa, korvataanko nykyinen numero uudella?`\n        )\n      ) {\n        const id = persons.filter(person => person.name === name)[0].id;\n        const personObject = {\n          id: id,\n          name: name,\n          number: number\n        };\n        personService\n          .update(id, personObject)\n          .then(response => {\n            setPersons(\n              persons.map(person => (person.id !== id ? person : response))\n            );\n            setNewFilteredList(\n              persons.map(person => (person.id !== id ? person : response))\n            );\n            setNewFilter(\"\");\n            setNewSuccessMessage(`Käyttäjän ${name} numero on päivitetty.`);\n            setTimeout(() => {\n              setNewSuccessMessage(null);\n            }, noticeTime);\n          })\n          .catch(error => {\n            setNewErrorMessage(`Käyttäjää ${name} ei ole tietokannassa.`);\n            setTimeout(() => {\n              setNewErrorMessage(null);\n            }, noticeTime);\n          });\n      }\n      setNewName(\"\");\n      setNewNumber(\"\");\n    } else {\n      const personObject = {\n        name: name,\n        number: number\n      };\n      personService.create(personObject).then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson));\n        setNewFilteredList(persons.concat(returnedPerson));\n        setNewFilter(\"\");\n      });\n      setNewName(\"\");\n      setNewNumber(\"\");\n      setNewSuccessMessage(`Käyttäjä ${name} on lisätty tietokantaan.`);\n      setTimeout(() => {\n        setNewSuccessMessage(null);\n      }, noticeTime);\n    }\n  };\n\n  const removePerson = ({ id, name }) => {\n    if (window.confirm(`Are you sure you want to remove details for ${name}`)) {\n      personService\n        .remove(id)\n        .then(response => {\n          setNewSuccessMessage(`Käyttäjä ${name} poistettiin tietokannasta.`);\n          setTimeout(() => {\n            setNewSuccessMessage(null);\n          }, noticeTime);\n        })\n        .catch(error => {\n          setNewErrorMessage(\n            `Käyttäjä ${name} oli jo poistettu tietokannasta.`\n          );\n          setTimeout(() => {\n            setNewErrorMessage(null);\n          }, noticeTime);\n        });\n      setNewFilteredList(filteredList.filter(person => person.id !== id));\n      setPersons(persons.filter(person => person.id !== id));\n    }\n  };\n\n  return (\n    <div>\n      <Title name=\"Puhelinluettelo\" />\n      <Notice message={errorMessage} type=\"error\" />\n      <Notice message={successMessage} type=\"success\" />\n      <Filter newFilter={newFilter} handleFilterChange={handleFilterChange} />\n      <Header name=\"Lisää uusi nimi luetteloon\" />\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        newNumber={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n      />\n      <Header name=\"Numerot\" />\n      <Details persons={filteredList} removePerson={removePerson} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}